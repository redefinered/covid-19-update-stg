(this["webpackJsonpcovid-19-update"]=this["webpackJsonpcovid-19-update"]||[]).push([[0],{211:function(e,t,a){e.exports=a(406)},216:function(e,t,a){},217:function(e,t,a){},297:function(e,t,a){},309:function(e,t,a){},365:function(e,t,a){},366:function(e,t,a){},383:function(e,t,a){},406:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(23),o=a.n(c),i=(a(216),a(25)),s=a(26),u=a(28),l=a(27),m=a(411),d=a(412),h=function(e){var t=e.description;return r.a.createElement(m.a,{className:"d-flex align-items-center justify-content-center flex-column",style:{height:200}},r.a.createElement("div",null,r.a.createElement(d.a,{animation:"grow",variant:"primary",role:"status",className:"mb-3"},r.a.createElement("span",{className:"sr-only"},"Loading..."))),t?r.a.createElement("p",null,t):null)},p=(a(217),function(e){var t=e.small,a=e.title;return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"text-muted small-label"},t),r.a.createElement("h3",{className:"mb-3"},a))});p.defaultProps={small:"Some Cool Small Intro",title:"Heading Title"};var f,g,b=p,v=a(413),y=a(18),E=a.n(y),O=a(17),j=function(e){return e?e.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,"):0},C=(a(297),Object(O.b)((function(e){return{data:e.casesReducer.herokuAllStatus}}))((function(e){var t=e.data,a=E()(t,(function(e){return"World"===e.country})),n=[{key:"cases",label:"Confirmed Cases",variant:"light"},{key:"todayCases",label:"New Cases",variant:"light"},{key:"deaths",label:"Deaths",variant:"light"},{key:"recovered",label:"Recoveries",variant:"light"}];return r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,{bordered:!0,size:"sm"},r.a.createElement("thead",null,r.a.createElement("tr",null,n.map((function(e){return r.a.createElement("th",{key:e.key,className:"".concat(e.key,"-label")},e.label)})))),r.a.createElement("tbody",null,r.a.createElement("tr",null,n.map((function(e){return r.a.createElement("td",{key:e.key},j(a[e.key]))}))))))}))),k=a(12),w=function(e){var t=e.data,a=e.width,c=e.height,o=e.margin,i=r.a.createRef();return Object(n.useEffect)((function(){Object(k.j)("svg#chart-canvas").remove();var e=a-o.left-o.right,n=c-o.top-o.bottom,r=Object(k.j)(i).append("svg").attr("id","chart-canvas").attr("width",e+o.left+o.right).attr("height",n+o.top+o.bottom).append("g").attr("transform","translate(".concat(o.left,", ").concat(o.top,")")),s=Object(k.i)().range([0,e]),u=Object(k.h)().range([n,0]);s.domain(Object(k.d)(t,(function(e){return new Date(e.Date)}))),u.domain([Object(k.g)(t,(function(e){return e.Confirmed})),Object(k.f)(t,(function(e){return e.Confirmed}))]);var l=Object(k.a)(s).ticks(5),m=Object(k.b)(u).ticks(5).tickSize(-e).tickFormat("");m.tickValues(u.ticks(5).concat(u.domain())),r.append("g").attr("class","x axis").attr("transform","translate(0, ".concat(n,")")).call(l);var d=r.append("g").attr("class","y axis").attr("transform","translate(0, 0)").call(m);d.select(".domain").remove(),d.selectAll(".tick").attr("color","lightgray")}),[t,a,c,o,i,"Confirmed"]),r.a.createElement("div",{className:"element",ref:function(e){i=e}})},S={Confirmed:"#17a2b8",Deaths:"#dc3545",Recovered:"#28a745"},D=function(e){var t=e.field,a=e.data,c=e.width,o=e.height,i=e.margin,s=e.color,u=r.a.createRef();return Object(n.useEffect)((function(){Object(k.j)("svg#".concat(t.toLowerCase())).remove();var e=c-i.left-i.right,n=o-i.top-i.bottom,r=Object(k.j)(u).append("svg").attr("id","".concat(t.toLowerCase())).attr("width",e+i.left+i.right).attr("height",n+i.top+i.bottom).append("g").attr("transform","translate(".concat(i.left,", ").concat(i.top,")")),s=Object(k.i)().range([0,e]),l=Object(k.h)().range([n,0]);s.domain(Object(k.d)(a,(function(e){return new Date(e.Date)}))),l.domain([Object(k.g)(a,(function(e){return e.Confirmed})),Object(k.f)(a,(function(e){return e.Confirmed}))]);var m=Object(k.e)().curve(k.c).defined((function(e){return e[t]})).x((function(e){return s(new Date(e.Date))})).y((function(e){return l(e[t])}));r.append("path").datum(a).attr("fill","none").attr("stroke",S[t]).attr("stroke-width",2).attr("d",m)}),[a,c,o,i,u,t,s]),r.a.createElement("div",{className:"element",ref:function(e){u=e}})},A=a(50),F=a(165),x=a(152),R=a.n(x),N=a(153),T=a.n(N),_=(a(309),Object(O.b)((function(e){return{data:e.casesReducer.countries}}))((function(e){var t=e.isFetching,a=e.data,n=e.handleSelect,c=e.selectedCountry,o=e.handleSearch,i=e.searchString,s=[];return R()(a,(function(e){return T()(e.slug,i.toLowerCase())})).map((function(e){s.push(r.a.createElement(A.a.Item,{key:e.name,value:e.name,active:e.name===c,onClick:function(e){return n(e)}},e.name))})),r.a.createElement(A.a,null,r.a.createElement(A.a.Toggle,{disabled:t,variant:"primary",id:"dropdown-basic"},t?"Fetching...":c),r.a.createElement(A.a.Menu,null,r.a.createElement("div",{className:"px-4 my-2"},r.a.createElement(F.a.Control,{onChange:function(e){return o(e)},type:"search",placeholder:"Search your country..."})),r.a.createElement("div",{className:"dropdown-menu-list"},s)))}))),I=a(415),L=a(34),U=Object(L.createActions)({getInitialData:[],getInitialDataSuccess:["data"],getInitialDataFailure:["error"],setCountry:["country"],setCountries:["countries"],getCasesByCountry:["country"],getCasesByCountrySuccess:["data"],getCasesByCountryFailure:["error"]},{prefix:"@Cases/"}),G=U.Types,B=U.Creators,Y=(a(365),function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).handleSelect=function(e){n.props.setCountryAction(e.target.getAttribute("value"))},n.handleSearch=function(e){n.setState({searchString:e.target.value})},n.setWidth=function(){n.setState({width:n.canvas.current.clientWidth,height:400})},n.renderChart=function(e){var t=e.casesFromDayOne,a=e.width,c=e.height;return r.a.createElement("div",{className:"chart-container mb-4",style:{height:c}},r.a.createElement(w,{data:t,width:a,height:c,margin:n.margin}),r.a.createElement(D,{field:"Confirmed",data:t,width:a,height:c,margin:n.margin}),r.a.createElement(D,{field:"Recovered",data:t,width:a,height:c,margin:n.margin}),r.a.createElement(D,{field:"Deaths",data:t,width:a,height:c,margin:n.margin}))},n.state={searchString:"",width:0,height:0},n.margin={top:40,right:0,bottom:20,left:0},n.canvas=r.a.createRef(),n.gutter=30,n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.setWidth()}},{key:"render",value:function(){var e=this.state,t=e.searchString,a=e.width,n=e.height,c=this.props,o=c.error,i=c.isFetching,s=c.selectedCountry,u=c.casesFromDayOne,l=r.a.createElement(I.a,{className:"mt-3",variant:"warning"},"No data");return o?r.a.createElement(I.a,{variant:"danger"},o):r.a.createElement("div",{ref:this.canvas},r.a.createElement(b,{small:"What the curve looks like",title:"Data Visualization"}),r.a.createElement(_,{isFetching:i,handleSelect:this.handleSelect,selectedCountry:s,handleSearch:this.handleSearch,searchString:t}),i?r.a.createElement(h,null):u.length?this.renderChart({casesFromDayOne:u,width:a,height:n}):l)}}]),a}(r.a.Component)),W={setCountryAction:B.setCountry},P=Object(O.b)((function(e){return{casesFromDayOne:e.casesReducer.casesFromDayOne}}),W)(Y),M=a(104),z=a.n(M),H=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).tick=function(){n.setState({time:z()()})},n.state={time:z()()},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.timeInterval=setInterval((function(){e.tick()}),1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timeInterval)}},{key:"render",value:function(){var e=this.state.time;return r.a.createElement("div",{className:"time"},r.a.createElement("p",null,"As of ",r.a.createElement("strong",null,"".concat(e.format("dddd, D MMM YYYY")," ").concat(e.format("hh:mm:ss A")))))}}]),a}(r.a.Component),J=a(416),K=(a(366),function(e){var t=e.title,a=e.value,n=e.color,c=e.light;return r.a.createElement(J.a,{text:c?"black":"white",bg:n,className:"mb-4"},r.a.createElement(J.a.Body,{className:"text-center my-4"},r.a.createElement(J.a.Title,null,r.a.createElement("strong",null,t)),r.a.createElement(J.a.Text,{className:"figure"},j(a))))}),V=a(414),$=a(157),q=function(e){var t=e.data,a=e.country,n=E()(t,(function(e){return e.country===a})),c=Object.keys(n),o=[{key:"cases",label:"Confirmed Cases",variant:"info"},{key:"todayCases",label:"New Cases",variant:"warning"},{key:"deaths",label:"Deaths",variant:"danger"},{key:"recovered",label:"Recoveries",variant:"success"}];return r.a.createElement(r.a.Fragment,null,r.a.createElement(b,{small:"Cases in ".concat(a),title:"Country Overview"}),r.a.createElement(V.a,null,c.map((function(e){var t=E()(o,(function(t){return t.key===e}));if(void 0!==t)return r.a.createElement($.a,{key:e},r.a.createElement(K,{title:t.label,value:n[e],color:t.variant}))}))))},Q=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.country;return r.a.createElement("div",null,r.a.createElement("h1",null,"Covid-19 Updates"),r.a.createElement(H,null),r.a.createElement("p",{className:"lead"},"This page updates everyday so you stay updated on the global situation regarding the Coronovirus pandemic"),0!==t.length&&a?r.a.createElement(q,{country:a,data:t}):r.a.createElement(h,null))}}]),a}(r.a.Component),X=a(158),Z=a.n(X),ee=Object(O.b)((function(e){return{data:e.casesReducer.herokuAllStatus}}))((function(e){var t=e.data,a=Z()(t,1,11);return r.a.createElement(r.a.Fragment,null,r.a.createElement(b,{small:"10 countries with most cases",title:"Largest Cases"}),r.a.createElement(v.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Country"),r.a.createElement("th",null,"Confirmed Cases"))),r.a.createElement("tbody",null,a.map((function(e){return r.a.createElement("tr",{key:e.country},r.a.createElement("td",null,e.country),r.a.createElement("td",null,j(e.cases)))})))))})),te=a(159),ae=a.n(te),ne=[{country:"USA",slug:"united-states"},{country:"United States",slug:"united-states"},{country:"Hong Kong",slug:"hong-kong-sar-china"}],re=[{from:"United States",to:"USA"}],ce=(a(383),function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={searchString:""},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.props.getInitialDataAction()}},{key:"componentDidUpdate",value:function(e){var t=this;if(e.herokuData!==this.props.herokuData){var a=function(e){var t=[];return t=e.map((function(e){var t=e.country.toLowerCase().split(" ").join("-"),a=E()(ne,(function(t){return t.country===e.country}));return a&&(t=a.slug),{name:e.country,slug:t}})),t=ae()(t,(function(e){return e.name}))}(this.props.herokuData);this.props.setCountriesAction(a)}if(this.props.selectedCountry&&this.props.countries.length&&e.countries!==this.props.countries){var n=E()(this.props.countries,(function(e){return e.name===t.props.selectedCountry})).slug;this.props.getCasesByCountryAction(n)}if(e.selectedCountry!==this.props.selectedCountry){var r=E()(this.props.countries,(function(e){return e.name===t.props.selectedCountry}));r&&this.props.getCasesByCountryAction(r.slug)}}},{key:"render",value:function(){var e=this.props,t=e.error,a=e.isFetching,n=e.isFetchingGrahpData,c=e.herokuData,o=e.selectedCountry,i=e.countries;return a||!o||0===c.length?r.a.createElement(h,{description:"Getting data ready..."}):t?r.a.createElement(I.a,{variant:"danger"},t):r.a.createElement(m.a,{fluid:!0},r.a.createElement(V.a,{className:"my-3"},r.a.createElement($.a,{lg:"9",className:"main"},r.a.createElement(V.a,null,r.a.createElement($.a,{lg:"4"},r.a.createElement(Q,{country:o,data:c})),r.a.createElement($.a,{lg:"8"},r.a.createElement(b,{small:"Worldwide",title:"World Overview"}),r.a.createElement(C,null),r.a.createElement(P,{error:t,countries:i,selectedCountry:o,isFetching:n,herokuData:c})))),r.a.createElement($.a,{lg:"3",className:"sidebar"},r.a.createElement(ee,null))),r.a.createElement("footer",{className:"py-3"},r.a.createElement("p",{className:"text-muted"},"\xa9 reddeguzman | ","v".concat("1.0.2-beta.0"))))}}]),a}(r.a.Component)),oe={getInitialDataAction:B.getInitialData,setCountriesAction:B.setCountries,getCasesByCountryAction:B.getCasesByCountry},ie=Object(O.b)((function(e){var t=e.casesReducer;return{error:t.error,isFetching:t.isFetching,isFetchingGrahpData:t.isFetchingGrahpData,selectedCountry:t.country,countries:t.countries,herokuData:t.herokuAllStatus}}),oe)(ce),se=Object(O.b)((function(e){return{isLoading:e.appReducer.isLoading}}),null)((function(e){return e.isLoading?r.a.createElement("p",null,"Getting the app ready..."):r.a.createElement(ie,null)})),ue=a(160),le=a(20),me=a(39),de=a(168),he=(a(161),a(105)),pe=a.n(he),fe=a(15),ge=a(9),be=Object(L.createActions)({appReady:null,appReadySuccess:null,appReadyFailure:["error"],default:null},{}),ve=be.Types,ye=be.Creators,Ee={isLoading:!0,error:null},Oe=Object(L.createReducer)(Ee,(f={},Object(fe.a)(f,ve.APP_READY,(function(e){return Object(ge.a)(Object(ge.a)({},e),{},{isLoading:!0})})),Object(fe.a)(f,ve.APP_READY_SUCCESS,(function(e){return Object(ge.a)(Object(ge.a)({},e),{},{isLoading:!1})})),Object(fe.a)(f,ve.APP_READY_FAILURE,(function(e,t){return Object(ge.a)(Object(ge.a)({},e),{},{error:t.error,isLoading:!1})})),Object(fe.a)(f,ve.DEFAULT,(function(){return Object(ge.a)(Object(ge.a)({},Ee),{},{isLoading:!1})})),f)),je=Object(L.createReducer)({error:null,isFetching:!1,isFetchingGrahpData:!1,country:null,countries:[],casesFromDayOne:[],herokuAllStatus:[]},(g={},Object(fe.a)(g,G.SET_COUNTRY,(function(e,t){var a=t.country;return Object(ge.a)(Object(ge.a)({},e),{},{isFetching:!1,country:a})})),Object(fe.a)(g,G.SET_COUNTRIES,(function(e,t){var a=t.countries;return Object(ge.a)(Object(ge.a)({},e),{},{countries:a})})),Object(fe.a)(g,G.GET_INITIAL_DATA,(function(e){return Object(ge.a)(Object(ge.a)({},e),{},{isFetching:!0})})),Object(fe.a)(g,G.GET_INITIAL_DATA_SUCCESS,(function(e,t){var a=t.data,n=a.country,r=a.herokuAllStatus,c=E()(re,(function(e){return e.from===n}));return Object(ge.a)(Object(ge.a)({},e),{},{isFetching:!1,country:c?c.to:n,herokuAllStatus:r,error:null})})),Object(fe.a)(g,G.GET_INITIAL_DATA_FAILURE,(function(e,t){return Object(ge.a)(Object(ge.a)({},e),{},{isFetching:!1,error:t.error})})),Object(fe.a)(g,G.GET_CASES_BY_COUNTRY,(function(e){return Object(ge.a)(Object(ge.a)({},e),{},{isFetchingGrahpData:!0})})),Object(fe.a)(g,G.GET_CASES_BY_COUNTRY_SUCCESS,(function(e,t){var a=t.data.casesFromDayOne;return Object(ge.a)(Object(ge.a)({},e),{},{isFetchingGrahpData:!1,casesFromDayOne:a,error:null})})),Object(fe.a)(g,G.GET_CASES_BY_COUNTRY_FAILURE,(function(e,t){return Object(ge.a)(Object(ge.a)({},e),{},{isFetchingGrahpData:!1,error:t.error})})),g)),Ce={key:"primary",storage:pe.a,whitelist:["casesReducer"]},ke=Object(me.b)(Ce,{appReducer:Oe,casesReducer:je}),we=function(e,t){return"PURGE_STORE"===t.type&&(pe.a.removeItem("persist:primary"),e=void 0),ke(e,t)},Se=a(11),De=a.n(Se),Ae=a(13),Fe=De.a.mark(Re),xe=De.a.mark(Ne);function Re(){return De.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(Ae.d)(ye.appReadySuccess());case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.next=9,Object(Ae.d)(ye.appReadyFailure(e.t0.message));case 9:case"end":return e.stop()}}),Fe,null,[[0,5]])}function Ne(){return De.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ae.e)(me.a,Re);case 2:case"end":return e.stop()}}),xe)}var Te=a(73),_e=a(74),Ie=a.n(_e),Le=function(){var e=Object(Te.a)(De.a.mark((function e(){var t,a;return De.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ie.a.get("https://geolocation-db.com/json/0f761a30-fe14-11e9-b59f-e53803842572");case 3:return t=e.sent,a=t.data,e.abrupt("return",a);case 8:throw e.prev=8,e.t0=e.catch(0),new Error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),Ue=function(){var e=Object(Te.a)(De.a.mark((function e(t){var a,n,r,c;return De.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(n=E()(ne,(function(e){return e.country===t})))&&(a=n.slug),a=t.toLowerCase().split(" ").join("-"),e.next=6,Ie.a.get("https://api.covid19api.com/dayone/country/".concat(a));case 6:return r=e.sent,c=r.data,e.abrupt("return",c);case 11:throw e.prev=11,e.t0=e.catch(0),new Error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),Ge=function(){var e=Object(Te.a)(De.a.mark((function e(){var t,a;return De.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ie.a.get("https://coronavirus-19-api.herokuapp.com/countries");case 3:return t=e.sent,a=t.data,e.abrupt("return",a);case 8:throw e.prev=8,e.t0=e.catch(0),new Error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),Be=a(162),Ye=a.n(Be),We=De.a.mark(ze),Pe=De.a.mark(He),Me=De.a.mark(Je);function ze(){var e,t,a;return De.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(Ae.b)(Le);case 3:return e=n.sent,t=e.country_name,n.next=7,Object(Ae.b)(Ge);case 7:if(a=n.sent,!Ye()(a)){n.next=10;break}throw new Error("Error: no data available");case 10:return n.next=12,Object(Ae.d)(B.getInitialDataSuccess({country:t,herokuAllStatus:a}));case 12:n.next=18;break;case 14:return n.prev=14,n.t0=n.catch(0),n.next=18,Object(Ae.d)(B.getInitialDataFailure(n.t0.message));case 18:case"end":return n.stop()}}),We,null,[[0,14]])}function He(e){var t;return De.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(Ae.b)(Ue,e.country);case 3:return t=a.sent,a.next=6,Object(Ae.d)(B.getCasesByCountrySuccess({casesFromDayOne:t}));case 6:a.next=12;break;case 8:return a.prev=8,a.t0=a.catch(0),a.next=12,Object(Ae.d)(B.getCasesByCountryFailure(a.t0.message));case 12:case"end":return a.stop()}}),Pe,null,[[0,8]])}function Je(){return De.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ae.e)(G.GET_INITIAL_DATA,ze);case 2:return e.next=4,Object(Ae.e)(G.GET_CASES_BY_COUNTRY,He);case 4:case"end":return e.stop()}}),Me)}var Ke=De.a.mark(Ve);function Ve(){return De.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ae.a)([Object(Ae.c)(Ne),Object(Ae.c)(Je)]);case 2:case"end":return e.stop()}}),Ke)}var $e=function(){var e,t=null,a=null,n=Object(de.a)();return a=Object(le.a)(n),t=Object(le.e)(we,a),n.run(Ve),e=Object(me.c)(t,null,(function(){return t.getState()})),{store:t,persistor:e}}(),qe=$e.store,Qe=$e.persistor,Xe=(a(404),function(){return r.a.createElement(O.a,{store:qe},r.a.createElement(ue.a,{loading:null,persistor:Qe},r.a.createElement("div",{className:"App"},r.a.createElement(se,null))))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ze=a(106),et=a.n(Ze),tt=a(163),at=a.n(tt);et.a.start({apiKey:"897bd28ab016d37e7e7a88145fe0039a",plugins:[new at.a],notifyReleaseStages:["production","staging"]});var nt=et.a.getPlugin("react").createErrorBoundary(r.a);o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(nt,null,r.a.createElement(Xe,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[211,1,2]]]);
//# sourceMappingURL=main.097c25fc.chunk.js.map